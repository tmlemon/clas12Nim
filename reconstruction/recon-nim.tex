%
%---Beginning of Document---
%
% Use 1). latex recon-nim.tex, 2). dvipdfm recon-nim
%
\RequirePackage{lineno}
\documentclass[3p,times,twocolumn]{elsarticle}
\usepackage{lineno, color, listings, enumerate, amssymb, graphicx, float, wrapfig}
\usepackage{amsthm,amsmath}
% notice hyperref loaded last to avoid duplicate reference warnings
%\usepackage[font=normalsize,labelfont=bf]{caption}
\usepackage[pdfpagelabels]{hyperref}
\modulolinenumbers[5]
\usepackage[normalem]{ulem}
\usepackage[utf8]{inputenc}
\usepackage{soul}
\usepackage{dcolumn}% Align table columns on decimal pion\index{\footnote{}}t
\usepackage{bm}% bold math
\usepackage{hyperref}
\usepackage{epstopdf}
\usepackage{subcaption}
\usepackage{url}
\hyphenpenalty=1500
\exhyphenpenalty=1500

\def\etal{{\it et al.}}
\def\MaPMT{MaPMT }
\def\MaPMTs{MaPMTs }
\def\MAROC{MAROC3 }
\def\dT{$\Delta T$ }

%\documentclass{elsart}
%%\setcounter{footnote}{0}
%\setcounter{tocdepth}{5}
%\linenumbers


\begin{document}
\begin{frontmatter}

\title{CLAS12 Software Framework and Event Reconstruction}

\author[JLab]{V. Ziegler\'i\corref{mycorrespondingauthor}}
\cortext[mycorrespondingauthor]{Corresponding author}
\ead{ziegler@jlab.org}
\author[JLab]{N. Baltzell}
\author[Saclay]{F. Boss\`u}
\author[JLab]{D.S. Carman}
\author[IPNO]{P. Chatagnon}
\author[INFN]{M. Contalbrigo}
\author[INFN]{R. De Vita}
\author[Saclay]{M. Defurne}
\author[JLab]{G. Gavalian}
\author[JLab]{Y. Gotra}
\author[JLab]{V. Gyurjyan}
\author[JLab]{N. Harrison}
\author[CNU]{D. Heddle}
\author[UConn]{A. Kim}
\author[JLab]{N. Markov}
\author[JLab]{M.D. Mestayer}
\author[CNU]{W. Phelps}
\author[IPNO]{S. Niccolai}
\author[Glasgow]{D. Sokhan}
\author[JLab]{M. Ungaro}

\address[JLab]{Thomas Jefferson National Accelerator Facility, Newport News, VA 23606, USA}
\address[CNU]{Christopher Newport University, 1 Avenue of the Arts, Newport News, 23606 VA , USA}
\address[UConn]{University of Connecticut, Storrs, CT 06269, USA}
\address[INFN]{INFN, Sezione di Genova, 16146 Genova, Italy}
\address[Saclay]{CEA-Saclay, Univ. Paris-Sud, Universit\'e Paris-Saclay, Gif-sur-Yvettes, France}
\address[IPNO]{Institut de Physique Nucl\'eaire, CNRS-IN2P3, Univ. Paris-Sud, Universit\'e Paris-Saclay,
91406 Orsay Cedex, France}
\address[Glasgow]{University of Glasgow, Glasgow G12 8QQ, United Kingdom}
%\thanks[corresponding]{Corresponding author. Address: 12000 Jefferson Ave., Newport News, VA;

%\date{\today}

%\maketitle

\begin{abstract}
We describe offline event reconstruction for the CEBAF Large Acceptance Spectrometer at 12 GeV.
The present an overview of the offline reconstruction framework and software tools.
We describe the algorithms developed for the individual detector subsystems and the overall scheme for the
particle identification.  We present the data processing scheme and code management procedures.
\end{abstract}

\begin{keyword}
CLAS12, event reconstruction, PACS:29.40.Mc
\end{keyword}

\end{frontmatter}

\tableofcontents

%\vfil
%\eject

\input{introduction}
\input{framework}
\input{formats}
\input{calibration}
\input{reconstruction}
\input{tracking}
\input{ecal}
\input{cc}
\input{rich}
\input{tof}
\input{cnd}
\input{ft}
\input{eb}
\input{dataprocessing}
\input{codemanagement}
\input{conclusions}
\input{improvements}

\section{Acknowledgments}

This work was supported in part by DOE Contract DE-AC05-84ER40150.

\begin{thebibliography}{99}

\bibitem{clas12-nim}
V.D. Burkert {\it et al.}, ``The CLAS12 Spectrometer at Jefferson Laboratory'', to be published in Nucl.
Inst. and Meth. A, (2020). (see this issue)

\bibitem{clara-2011}
V. Gyurjyan {\it et al.}, CLARA: A Contemporary Approach to Physics Data Processing, J. Phys. Conf. Ser.
{\bf 331}, 032013 (2011).

\bibitem{clara-service}
J. Carbonneau, M. Moog,  J. Gilfoyle {\it et al.}, 2011 APS Division of Nuclear Physics Meeting Abstracts, EA.024.

\bibitem{framework}
Component Based Dataflow Processing Framework, 2015, IEEE DOI: 10.1109/BigData.2015.7363971,
ISBN: 978 1-4799-9926-2

\bibitem{clara-2016}
CLARA: The CLAS12 Reconstruction and Analysis framework, 2016, J. Phys. Conf. Ser. {\bf 762}, 012009 (2016).

\bibitem{sim-nim}
M. Ungaro {\it et al.},   ``The CLAS12 Geant4 Simulation'', to be published in Nucl.
Inst. and Meth. A, (2020). (see this issue)

\bibitem{gluex}
Find a reference

\bibitem{evio}
Event IO Data Format,
https://coda.jlab.org/drupal/content/event-io-evio

\bibitem{ecal-nim}
G. Asryan {\it et al.}, ``The CLAS12 Forward Electromagnetic Calorimeter'', to be published in Nucl.
Inst. and Meth. A, (2020). (see this issue)

\bibitem{dc-nim}
M.D. Mestayer {\it et al.}. ``The CLAS12 Drift Chamber System'', to be published in Nucl. Inst. and
Meth. A, (2020). (see this issue)

\bibitem{ftof-nim}
D.S. Carman {\it et al.},   ``The CLAS12 Forward Time-of-Flight System'', to be published in Nucl.
Inst. and Meth. A, (2020). (see this issue)

\bibitem{ft-nim}
A. Acker {\it et al.}, ``The CLAS12 Forward Tagger'', to be published in Nucl. Inst. and
Meth. A, (2020). (see this issue)

\bibitem{daq-nim}
S. Boiarinov {\it et al.}, ``The CLAS12 Data Acquisition System'', to be published in Nucl. Inst. and
Meth. A, (2020). (see this issue)

\bibitem{ctof-nim}
D.S. Carman {\it et al.}, ``The CLAS12 Central Time-of-Flight System'', to be published in Nucl.
Inst. and Meth. A, (2020). (see this issue)

\bibitem{svt-nim}
A. Antonioli {\it et al.}, ``The CLAS12 Silicon Vertex Tracker'', to be published in Nucl. Inst. and
Meth. A, (2020). (see this issue)

\bibitem{mm-nim}
A. Acker {\it et al.}, ``Micromegas Vertex Tracker for CLAS12', to be published in Nucl. Inst. and
Meth. A, (2020). (see this issue)

\bibitem{spiri}
Alexander Spiridonov, Optimized Integration of the Equations of Motion of a Particle in the HERA-B Magnet

\bibitem{Highland-Lynch-Dahl}
ADD REFERENCE

\bibitem{CA-HeraB}
I.~Abt, I.~Kisel, S.~Masciocchi and D.~Emelyanov,
``CATS: A cellular automaton for tracking in silicon for the HERA-B vertex detector,''
Nucl.\ Instrum.\ Meth.\ A {\bf 489} (2002) 389.
doi:10.1016/S0168-9002(02)00790-8
%%CITATION = doi:10.1016/S0168-9002(02)00790-8;%%
%26 citations counted in INSPIRE as of 27 Sep 2019

\bibitem{ec-nim}
G. Asryan {\it et al.}, ``The CLAS12 Forward Electromagnetic Calorimeter', to be published in Nucl. Inst. and
Meth. A, (2020). (see this issue)

\bibitem{ic}
R. Niyazov and S. Stepanyan, ``CLAS/DVCS Inner Calorimeter Calibration'', CLAS-Note 2005-021.
\bibitem{recon-github}
{CLAS12 Reconstructino Software Repository},
https://github.com/jeffersonlab/clas12-offline-software
\bibitem{jlab-batch-farm}
{Jefferson Lab Batch Farm},
https://scicomp.jlab.org/docs/ExpPhyComp

\bibitem{jlab-tape-silo}
{Jefferson Lab Tape Silo},
https://scicomp.jlab.org/docs/node/9

\bibitem{jlab-lustre}
{Jefferson Lab Lustre Filesystem},
https://scicomp.jlab.org/docs/node/17

\end{thebibliography}

\end{document}
